apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: homepage

resources:
  - namespace.yaml
  - deployment.yaml
  - service.yaml
  - ingress.yaml
  - serviceaccount.yaml
  - rbac.yaml
  - network-policy.yaml
  - allow-uptime-kuma.yaml

configMapGenerator:
  - name: homepage
    files:
      - config/bookmarks.yaml
      - config/kubernetes.yaml
      - config/services.yaml
      - config/settings.yaml
      - config/widgets.yaml
      - config/docker.yaml
      - config/custom.js
      - config/custom.css

generators:
  - ksops-env.yaml
  - ksops-secret.yaml