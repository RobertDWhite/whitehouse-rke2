apiVersion: v1
kind: ConfigMap
metadata:
  name: maubot-config
  namespace: matrix
data:
  config.yaml: |
    homeserver: "https://matrix.white.fm"

    server:
      listen: 0.0.0.0:29316
      base_url: "https://maubot.white.fm"
      public_url: "https://maubot.white.fm"
      ui: true

    database: "postgresql://maubot:${POSTGRES_PASSWORD}@matrix-postgresql:5432/maubot"

    logging:
      version: 1
      formatters:
        default:
          format: "[%(asctime)s] [%(levelname)s@%(name)s] %(message)s"
      handlers:
        console:
          class: logging.StreamHandler
          formatter: default
      root:
        level: INFO
        handlers: [console]