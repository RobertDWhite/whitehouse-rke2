apiVersion: v1
kind: Namespace
metadata:
  name: cattle-system
---
apiVersion: helm.cattle.io/v1
kind: HelmChart
metadata:
  name: rancher
  namespace: cattle-system
spec:
  repo: https://releases.rancher.com/server-charts/latest
  chart: rancher
  version: 2.8.4
  targetNamespace: cattle-system
  valuesContent: |
    hostname: rancher.white.fm
    ingress:
      enabled: true
      ingressClassName: nginx
      extraAnnotations:
        cert-manager.io/cluster-issuer: letsencrypt-dns
        nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
      tls:
        source: letsEncrypt
